import './App.css';
import AnimatedRoutes from './components/AnimatedRoutes';
import SideBar from './components/SideBar';
import { useState, useEffect } from 'react';
import { Link, useNavigate } from 'react-router-dom';

import { COMPANY_URL } from './imgData';

function App() {
  const [show, setShow] = useState(false);
  const [goHome, setGoHome] = useState(false);
  const [authenticated, setAuthenticated] = useState(false);
  const [isAbout, setIsAbout] = useState(false);
  const [studios, setStudios] = useState([]);

  const navigate = useNavigate();

  useEffect(() => {
    fetch(COMPANY_URL)
        .then(resp => resp.json())
        .then(data => setStudios(data))
        .catch(e => alert('cannot load studios'));
  }, []);

  const handleIt = () => {
    setShow(!show);
  }

  return (
      <div className="App">
        
          <div style={{padding: '0px 22px', display: 'flex', justifyContent: 'space-between', height: '7vh', alignItems: 'center'}}>
              {isAbout ? (
                  <svg width="24" height="24" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg" onClick={() => {navigate(-1); setIsAbout(false)}} style={{cursor: 'pointer'}}>
                    <rect x="-4.97046" y="13" width="24" height="24" rx="12" transform="rotate(-45 -4.97046 13)" fill="black"/>
                    <path d="M17.8337 6.8125L6.16648 18.4798" stroke="white" strokeWidth="2"/>
                    <path d="M17.8337 18.48L6.16648 6.81272" stroke="white" strokeWidth="2"/>
                  </svg>                  
                ) : (
                  <svg width="32" height="22" viewBox="0 0 21 16" fill="none" xmlns="http://www.w3.org/2000/svg" onClick={handleIt} style={{cursor: 'pointer'}}>
                    <path d="M20.9935 0H0V1.99938H20.9935V0Z" fill="black"/>
                    <path d="M20.9934 6.87402H-3.05176e-05V8.8734H20.9934V6.87402Z" fill="black"/>
                    <path d="M20.9934 13.7056H-3.05176e-05V15.7049H20.9934V13.7056Z" fill="black"/>
                  </svg>
                )
              }
              {goHome && (
                <Link to='/' style={{display: 'inline-block'}}>
                  <svg width="242" height="25" viewBox="0 0 242 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="0.998657" y="24" width="24" height="24" rx="12" transform="rotate(-90 0.998657 24)" fill="black"/>
                  <path d="M40.6035 12.6465L40.6035 18.3789L42.9375 18.3789C44.0833 18.3789 44.9004 18.1803 45.3887 17.7832C45.877 17.3796 46.1211 16.7188 46.1211 15.8008C46.1211 14.5898 45.8639 13.763 45.3496 13.3203C44.8353 12.8711 44.0312 12.6465 42.9375 12.6465L40.6035 12.6465ZM40.6035 7.04102L40.6035 11.0449L42.8984 11.0449C43.849 11.0449 44.5358 10.8626 44.959 10.498C45.3887 10.1335 45.6035 9.67448 45.6035 9.1211C45.6035 8.38542 45.3919 7.85482 44.9687 7.5293C44.5521 7.20378 43.862 7.04102 42.8984 7.04102L40.6035 7.04102ZM38.6211 5.41992L42.9375 5.41992C44.4284 5.41992 45.5775 5.74219 46.3848 6.38672C47.1921 7.03125 47.5957 7.94271 47.5957 9.1211C47.5957 9.75261 47.3809 10.3255 46.9512 10.8398C46.528 11.3542 45.89 11.6764 45.0371 11.8066C45.9941 11.9499 46.7428 12.36 47.2832 13.0371C47.8301 13.7077 48.1035 14.694 48.1035 15.9961C48.1035 17.3177 47.6706 18.3171 46.8047 18.9941C45.9388 19.6647 44.6497 20 42.9375 20L38.6211 20L38.6211 5.41992ZM60.3301 11.3184C59.946 11.0189 59.5553 10.8008 59.1582 10.6641C58.7611 10.5273 58.3249 10.459 57.8496 10.459C56.7298 10.459 55.8737 10.8106 55.2812 11.5137C54.6888 12.2168 54.3926 13.2324 54.3926 14.5605L54.3926 20L52.5859 20L52.5859 9.0625L54.3926 9.0625L54.3926 11.2012C54.6921 10.4264 55.151 9.83399 55.7695 9.42383C56.3945 9.00716 57.1335 8.79883 57.9863 8.79883C58.429 8.79883 58.8424 8.85417 59.2266 8.96485C59.6107 9.07552 59.9785 9.24805 60.3301 9.48243L60.3301 11.3184ZM64.1875 9.10157L68.7871 9.10157L68.7871 18.6035L72.3516 18.6035L72.3516 20L63.4258 20L63.4258 18.6035L66.9902 18.6035L66.9902 10.4981L64.1875 10.4981L64.1875 9.10157ZM66.9902 4.85352L68.7871 4.85352L68.7871 7.11915L66.9902 7.11915L66.9902 4.85352ZM81.5312 10.459L81.5312 4.8047L83.3281 4.8047L83.3281 20L81.5312 20L81.5312 18.6231C81.2318 19.1634 80.8314 19.5768 80.3301 19.8633C79.8353 20.1432 79.2624 20.2832 78.6113 20.2832C77.2897 20.2832 76.248 19.7721 75.4863 18.75C74.7311 17.7214 74.3535 16.3053 74.3535 14.502C74.3535 12.7246 74.7344 11.3314 75.4961 10.3223C76.2578 9.30665 77.2962 8.79884 78.6113 8.79884C79.2689 8.79884 79.8483 8.94206 80.3496 9.22852C80.8509 9.50847 81.2448 9.91863 81.5312 10.459ZM76.248 14.541C76.248 15.9343 76.4694 16.9857 76.9121 17.6953C77.3548 18.405 78.0091 18.7598 78.875 18.7598C79.7409 18.7598 80.3984 18.4017 80.8477 17.6856C81.3034 16.9694 81.5312 15.9212 81.5312 14.541C81.5312 13.1543 81.3034 12.1061 80.8477 11.3965C80.3984 10.6803 79.7409 10.3223 78.875 10.3223C78.0091 10.3223 77.3548 10.6771 76.9121 11.3867C76.4694 12.0964 76.248 13.1478 76.248 14.541ZM93.582 14.4434C93.582 13.0957 93.3607 12.0736 92.918 11.377C92.4818 10.6738 91.8437 10.3223 91.0039 10.3223C90.125 10.3223 89.4544 10.6738 88.9922 11.377C88.5299 12.0736 88.2988 13.0957 88.2988 14.4434C88.2988 15.791 88.5299 16.8197 88.9922 17.5293C89.4609 18.2324 90.138 18.584 91.0234 18.584C91.8503 18.584 92.4818 18.2292 92.918 17.5195C93.3607 16.8099 93.582 15.7845 93.582 14.4434ZM95.3789 19.2969C95.3789 20.9375 94.9915 22.181 94.2168 23.0274C93.4421 23.8737 92.3027 24.2969 90.7988 24.2969C90.304 24.2969 89.7865 24.2513 89.2461 24.1602C88.7057 24.069 88.1654 23.9356 87.625 23.7598L87.625 21.9824C88.263 22.2819 88.8424 22.5033 89.3633 22.6465C89.8841 22.7897 90.3626 22.8613 90.7988 22.8613C91.7689 22.8613 92.4753 22.5977 92.918 22.0703C93.3607 21.543 93.582 20.7064 93.582 19.5606L93.582 19.4824L93.582 18.2617C93.2956 18.8737 92.9049 19.3294 92.4102 19.6289C91.9154 19.9284 91.3131 20.0781 90.6035 20.0781C89.3275 20.0781 88.3086 19.5671 87.5469 18.5449C86.7852 17.5228 86.4043 16.1556 86.4043 14.4434C86.4043 12.7246 86.7852 11.3542 87.5469 10.332C88.3086 9.3099 89.3275 8.79884 90.6035 8.79884C91.3066 8.79884 91.9023 8.93881 92.3906 9.21876C92.8789 9.49871 93.276 9.93165 93.582 10.5176L93.582 9.10157L95.3789 9.10157L95.3789 19.2969ZM100.34 9.10157L104.939 9.10157L104.939 18.6035L108.504 18.6035L108.504 20L99.5781 20L99.5781 18.6035L103.143 18.6035L103.143 10.4981L100.34 10.4981L100.34 9.10157ZM103.143 4.85353L104.939 4.85353L104.939 7.11915L103.143 7.11915L103.143 4.85353ZM119.568 13.2227L119.568 20L117.762 20L117.762 13.2227C117.762 12.2396 117.589 11.5169 117.244 11.0547C116.899 10.5925 116.359 10.3613 115.623 10.3613C114.783 10.3613 114.135 10.6608 113.68 11.2598C113.23 11.8522 113.006 12.7051 113.006 13.8184L113.006 20L111.209 20L111.209 9.06251L113.006 9.06251L113.006 10.7031C113.325 10.0781 113.758 9.60613 114.305 9.28712C114.852 8.9616 115.499 8.79884 116.248 8.79884C117.361 8.79884 118.191 9.16668 118.738 9.90236C119.292 10.6315 119.568 11.7383 119.568 13.2227ZM129.734 14.4434C129.734 13.0957 129.513 12.0736 129.07 11.377C128.634 10.6738 127.996 10.3223 127.156 10.3223C126.277 10.3223 125.607 10.6738 125.145 11.377C124.682 12.0736 124.451 13.0957 124.451 14.4434C124.451 15.791 124.682 16.8197 125.145 17.5293C125.613 18.2324 126.29 18.584 127.176 18.584C128.003 18.584 128.634 18.2292 129.07 17.5195C129.513 16.8099 129.734 15.7845 129.734 14.4434ZM131.531 19.2969C131.531 20.9375 131.144 22.181 130.369 23.0274C129.594 23.8737 128.455 24.2969 126.951 24.2969C126.456 24.2969 125.939 24.2513 125.398 24.1602C124.858 24.069 124.318 23.9356 123.777 23.7598L123.777 21.9824C124.415 22.2819 124.995 22.5033 125.516 22.6465C126.036 22.7897 126.515 22.8613 126.951 22.8613C127.921 22.8613 128.628 22.5977 129.07 22.0703C129.513 21.543 129.734 20.7064 129.734 19.5606L129.734 19.4824L129.734 18.2617C129.448 18.8737 129.057 19.3294 128.562 19.6289C128.068 19.9284 127.465 20.0781 126.756 20.0781C125.48 20.0781 124.461 19.5671 123.699 18.5449C122.937 17.5228 122.557 16.1556 122.557 14.4434C122.557 12.7246 122.937 11.3542 123.699 10.332C124.461 9.30991 125.48 8.79884 126.756 8.79884C127.459 8.79884 128.055 8.93882 128.543 9.21877C129.031 9.49871 129.428 9.93166 129.734 10.5176L129.734 9.10158L131.531 9.10158L131.531 19.2969ZM149.061 12.6465L149.061 18.3789L151.395 18.3789C152.54 18.3789 153.357 18.1804 153.846 17.7832C154.334 17.3796 154.578 16.7188 154.578 15.8008C154.578 14.5899 154.321 13.763 153.807 13.3203C153.292 12.8711 152.488 12.6465 151.395 12.6465L149.061 12.6465ZM149.061 7.04104L149.061 11.0449L151.355 11.0449C152.306 11.0449 152.993 10.8627 153.416 10.4981C153.846 10.1335 154.061 9.6745 154.061 9.12111C154.061 8.38544 153.849 7.85484 153.426 7.52932C153.009 7.2038 152.319 7.04104 151.355 7.04104L149.061 7.04104ZM147.078 5.41994L151.395 5.41994C152.885 5.41994 154.035 5.74221 154.842 6.38674C155.649 7.03127 156.053 7.94273 156.053 9.12111C156.053 9.75262 155.838 10.3255 155.408 10.8399C154.985 11.3542 154.347 11.6765 153.494 11.8067C154.451 11.9499 155.2 12.36 155.74 13.0371C156.287 13.7077 156.561 14.694 156.561 15.9961C156.561 17.3177 156.128 18.3171 155.262 18.9942C154.396 19.6647 153.107 20 151.395 20L147.078 20L147.078 5.41994ZM160.594 9.10158L165.193 9.10158L165.193 18.6035L168.758 18.6035L168.758 20L159.832 20L159.832 18.6035L163.396 18.6035L163.396 10.4981L160.594 10.4981L160.594 9.10158ZM163.396 4.85354L165.193 4.85354L165.193 7.11916L163.396 7.11916L163.396 4.85354ZM179.822 13.2227L179.822 20L178.016 20L178.016 13.2227C178.016 12.2396 177.843 11.517 177.498 11.0547C177.153 10.5925 176.613 10.3614 175.877 10.3614C175.037 10.3614 174.389 10.6608 173.934 11.2598C173.484 11.8522 173.26 12.7051 173.26 13.8184L173.26 20L171.463 20L171.463 9.06252L173.26 9.06252L173.26 10.7031C173.579 10.0781 174.012 9.60614 174.559 9.28713C175.105 8.96161 175.753 8.79885 176.502 8.79885C177.615 8.79885 178.445 9.16669 178.992 9.90237C179.546 10.6315 179.822 11.7383 179.822 13.2227ZM188.465 14.502L187.869 14.502C186.821 14.502 186.03 14.6875 185.496 15.0586C184.969 15.4232 184.705 15.9701 184.705 16.6992C184.705 17.3568 184.904 17.8679 185.301 18.2324C185.698 18.597 186.248 18.7793 186.951 18.7793C187.941 18.7793 188.719 18.4375 189.285 17.7539C189.852 17.0638 190.138 16.1133 190.145 14.9024L190.145 14.502L188.465 14.502ZM191.951 13.7598L191.951 20L190.145 20L190.145 18.3789C189.76 19.03 189.275 19.5117 188.689 19.8242C188.11 20.1302 187.404 20.2832 186.57 20.2832C185.457 20.2832 184.568 19.9707 183.904 19.3457C183.24 18.7142 182.908 17.8711 182.908 16.8164C182.908 15.599 183.315 14.6745 184.129 14.043C184.949 13.4115 186.15 13.0957 187.732 13.0957L190.145 13.0957L190.145 12.8125C190.138 11.9401 189.917 11.3086 189.48 10.918C189.044 10.5209 188.348 10.3223 187.391 10.3223C186.779 10.3223 186.16 10.4102 185.535 10.586C184.91 10.7617 184.301 11.0189 183.709 11.3574L183.709 9.56057C184.373 9.30667 185.008 9.11786 185.613 8.99417C186.225 8.86396 186.818 8.79885 187.391 8.79885C188.296 8.79885 189.067 8.93232 189.705 9.19925C190.35 9.46617 190.87 9.86656 191.268 10.4004C191.515 10.7259 191.691 11.1296 191.795 11.6114C191.899 12.0866 191.951 12.8028 191.951 13.7598ZM204.939 11.3184C204.555 11.0189 204.165 10.8008 203.768 10.6641C203.37 10.5274 202.934 10.459 202.459 10.459C201.339 10.459 200.483 10.8106 199.891 11.5137C199.298 12.2168 199.002 13.2325 199.002 14.5606L199.002 20L197.195 20L197.195 9.06253L199.002 9.06253L199.002 11.2012C199.301 10.4265 199.76 9.83401 200.379 9.42386C201.004 9.00719 201.743 8.79886 202.596 8.79886C203.038 8.79886 203.452 8.8542 203.836 8.96487C204.22 9.07555 204.588 9.24808 204.939 9.48245L204.939 11.3184ZM208.797 9.10159L213.396 9.10159L213.396 18.6035L216.961 18.6035L216.961 20L208.035 20L208.035 18.6035L211.6 18.6035L211.6 10.4981L208.797 10.4981L208.797 9.10159ZM211.6 4.85355L213.396 4.85355L213.396 7.11917L211.6 7.11917L211.6 4.85355ZM228.699 13.6328L228.699 14.5118L220.916 14.5118L220.916 14.5703C220.864 16.0612 221.147 17.1322 221.766 17.7832C222.391 18.4343 223.27 18.7598 224.402 18.7598C224.975 18.7598 225.574 18.6687 226.199 18.4864C226.824 18.3041 227.492 18.0274 228.201 17.6563L228.201 19.4434C227.518 19.7233 226.857 19.9317 226.219 20.0684C225.587 20.2116 224.975 20.2832 224.383 20.2832C222.684 20.2832 221.355 19.7754 220.398 18.7598C219.441 17.7377 218.963 16.3314 218.963 14.541C218.963 12.7963 219.432 11.403 220.369 10.3614C221.307 9.31969 222.557 8.79886 224.119 8.79886C225.512 8.79886 226.609 9.27087 227.41 10.2149C228.217 11.1589 228.647 12.2982 228.699 13.6328ZM226.902 13.1055C226.824 12.3503 226.548 11.6993 226.072 11.1524C225.604 10.599 224.926 10.3223 224.041 10.3223C223.175 10.3223 222.462 10.6088 221.902 11.1817C221.342 11.7546 221.036 12.3991 220.984 13.1153L226.902 13.1055ZM239.314 9.44339L239.314 11.2012C238.8 10.9017 238.283 10.6771 237.762 10.5274C237.241 10.3776 236.71 10.3028 236.17 10.3028C235.356 10.3028 234.747 10.4362 234.344 10.7032C233.947 10.9636 233.748 11.364 233.748 11.9043C233.748 12.3926 233.898 12.7572 234.197 12.9981C234.497 13.239 235.242 13.4733 236.434 13.7012L237.156 13.8379C238.048 14.0072 238.722 14.3457 239.178 14.8536C239.64 15.3614 239.871 16.0222 239.871 16.836C239.871 17.9167 239.487 18.7631 238.719 19.375C237.951 19.9805 236.883 20.2832 235.516 20.2832C234.975 20.2832 234.409 20.2246 233.816 20.1075C233.224 19.9968 232.583 19.8275 231.893 19.5996L231.893 17.7442C232.563 18.0892 233.204 18.3496 233.816 18.5254C234.428 18.6947 235.008 18.7793 235.555 18.7793C236.349 18.7793 236.964 18.6198 237.4 18.3008C237.837 17.9753 238.055 17.5228 238.055 16.9434C238.055 16.1101 237.257 15.5339 235.662 15.2149L235.584 15.1953L234.91 15.0586C233.875 14.8568 233.12 14.5183 232.645 14.043C232.169 13.5612 231.932 12.9069 231.932 12.0801C231.932 11.0319 232.286 10.2246 232.996 9.65824C233.706 9.08532 234.718 8.79886 236.033 8.79886C236.619 8.79886 237.182 8.8542 237.723 8.96488C238.263 9.06905 238.794 9.22855 239.314 9.44339Z" fill="black"/>
                  <path d="M7.74878 18.25L7.74878 6.75L19.2488 6.75" stroke="white" strokeWidth="2"/>
                  <path d="M7.91535 6.9165L18.9153 17.9165" stroke="white" strokeWidth="2"/>
                  </svg>
                </Link>
              )}
          </div>
        <SideBar show={show} handleIt={handleIt} studios={studios} />
        <AnimatedRoutes
          authenticated={authenticated} 
          handleAuth={setAuthenticated} 
          setIsAbout={setIsAbout} 
          setGoHome={setGoHome}
          studios={studios}
        />
    </div>
  );
}

export default App;
