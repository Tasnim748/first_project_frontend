import { useEffect,useState } from "react";
import { Link } from "react-router-dom";
import { useParams } from "react-router-dom";
import { COMPANY_URL } from "../imgData";

function CompanyPage() {
    let { company } = useParams();
    let [comp_info, setCompanyInfo] = useState(null);
    let [error, setError] = useState(null);

    console.log(company)

    useEffect(() => {
        fetch(`${COMPANY_URL}/${encodeURIComponent(company)}`)
            .then(resp => resp.json())
            .then(data => setCompanyInfo(data))
            .catch(e => {
                console.log(e)
                setCompanyInfo(null);
                setError('Not Found or connection error');
            })
    }, [company]);

    if (comp_info) {
        console.log(comp_info);
        return (
            <div>
                <img src={comp_info.url} alt="" width='100%' style={{marginTop: '60px'}} />
                <div style={{marginTop: '30px', display: 'flex', alignItems: 'stretch'}}>
                    <div style={{flexGrow: '8'}}>
                        <h1 style={{marginLeft: '7%', fontSize: "32px", width: '150px'}}>
                        {comp_info.title}
                        </h1>
                    </div>
                    <div style={{flexGrow: '2', textAlign: 'center'}}>
                        <Link to={`/${company}/learn-more`}>
                            <svg width="24" height="156" viewBox="0 0 24 156" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="1.52588e-05" y="0.249878" width="24" height="24" rx="12" fill="black"/>
                            <path d="M4.41992 153.9L4.41992 151.918L17.3398 151.918L17.3398 144.877L19 144.877L19 153.9L4.41992 153.9ZM12.6328 133.012L13.5117 133.012L13.5117 140.795L13.5703 140.795C15.0612 140.847 16.1322 140.564 16.7832 139.945C17.4342 139.32 17.7598 138.441 17.7598 137.309C17.7598 136.736 17.6686 136.137 17.4863 135.512C17.304 134.887 17.0273 134.219 16.6563 133.51L18.4434 133.51C18.7233 134.193 18.9316 134.854 19.0684 135.492C19.2116 136.124 19.2832 136.736 19.2832 137.328C19.2832 139.027 18.7754 140.355 17.7598 141.313C16.7376 142.27 15.3314 142.748 13.541 142.748C11.7962 142.748 10.403 142.279 9.36133 141.342C8.31966 140.404 7.79883 139.154 7.79883 137.592C7.79883 136.199 8.27083 135.102 9.21484 134.301C10.1589 133.493 11.2982 133.064 12.6328 133.012ZM12.1055 134.809C11.3503 134.887 10.6992 135.163 10.1523 135.639C9.59896 136.107 9.32227 136.785 9.32227 137.67C9.32227 138.536 9.60872 139.249 10.1816 139.809C10.7546 140.368 11.3991 140.674 12.1152 140.727L12.1055 134.809ZM13.502 125.043L13.502 125.639C13.502 126.687 13.6875 127.478 14.0586 128.012C14.4232 128.539 14.9701 128.803 15.6992 128.803C16.3568 128.803 16.8678 128.604 17.2324 128.207C17.597 127.81 17.7793 127.26 17.7793 126.557C17.7793 125.567 17.4375 124.789 16.7539 124.223C16.0638 123.656 15.1133 123.37 13.9023 123.363L13.502 123.363L13.502 125.043ZM12.7598 121.557L19 121.557L19 123.363L17.3789 123.363C18.0299 123.747 18.5117 124.232 18.8242 124.818C19.1302 125.398 19.2832 126.104 19.2832 126.938C19.2832 128.051 18.9707 128.939 18.3457 129.604C17.7142 130.268 16.8711 130.6 15.8164 130.6C14.599 130.6 13.6745 130.193 13.043 129.379C12.4115 128.559 12.0957 127.357 12.0957 125.775L12.0957 123.363L11.8125 123.363C10.9401 123.37 10.3086 123.591 9.91797 124.027C9.52083 124.464 9.32227 125.16 9.32227 126.117C9.32227 126.729 9.41016 127.348 9.58594 127.973C9.76172 128.598 10.0189 129.206 10.3574 129.799L8.56055 129.799C8.30664 129.135 8.11784 128.5 7.99414 127.895C7.86393 127.283 7.79883 126.69 7.79883 126.117C7.79883 125.212 7.93229 124.441 8.19922 123.803C8.46615 123.158 8.86654 122.637 9.40039 122.24C9.72591 121.993 10.1296 121.817 10.6113 121.713C11.0866 121.609 11.8027 121.557 12.7598 121.557ZM10.3184 108.568C10.0189 108.952 9.80078 109.343 9.66406 109.74C9.52734 110.137 9.45898 110.574 9.45898 111.049C9.45898 112.169 9.81055 113.025 10.5137 113.617C11.2168 114.21 12.2324 114.506 13.5605 114.506L19 114.506L19 116.313L8.0625 116.313L8.0625 114.506L10.2012 114.506C9.42643 114.206 8.83398 113.747 8.42383 113.129C8.00716 112.504 7.79883 111.765 7.79883 110.912C7.79883 110.469 7.85417 110.056 7.96484 109.672C8.07552 109.288 8.24805 108.92 8.48242 108.568L10.3184 108.568ZM12.2227 97.5332L19 97.5332L19 99.3398L12.2227 99.3398C11.2396 99.3398 10.5169 99.5124 10.0547 99.8574C9.59245 100.202 9.36133 100.743 9.36133 101.479C9.36133 102.318 9.66081 102.966 10.2598 103.422C10.8522 103.871 11.7051 104.096 12.8184 104.096L19 104.096L19 105.893L8.0625 105.893L8.0625 104.096L9.70313 104.096C9.07813 103.777 8.60612 103.344 8.28711 102.797C7.96159 102.25 7.79883 101.602 7.79883 100.854C7.79883 99.7402 8.16667 98.9102 8.90234 98.3633C9.63151 97.8099 10.7383 97.5332 12.2227 97.5332ZM4.46875 83.3438L4.46875 80.707L11.8711 78.1875L4.46875 75.6484L4.46875 73.002L19 73.002L19 74.8281L6.1582 74.8281L13.8145 77.4258L13.8145 78.9199L6.1582 81.5273L19 81.5273L19 83.3438L4.46875 83.3438ZM9.32227 65.6289C9.32227 66.5404 9.67708 67.2305 10.3867 67.6992C11.0964 68.168 12.1478 68.4023 13.541 68.4023C14.9277 68.4023 15.9792 68.168 16.6953 67.6992C17.4049 67.2305 17.7598 66.5404 17.7598 65.6289C17.7598 64.7109 17.4049 64.0176 16.6953 63.5488C15.9792 63.0801 14.9277 62.8457 13.541 62.8457C12.1478 62.8457 11.0964 63.0801 10.3867 63.5488C9.67708 64.0176 9.32227 64.7109 9.32227 65.6289ZM7.79883 65.6289C7.79883 64.112 8.29037 62.9531 9.27344 62.1523C10.2565 61.3451 11.679 60.9414 13.541 60.9414C15.4095 60.9414 16.8353 61.3418 17.8184 62.1426C18.7949 62.9434 19.2832 64.1055 19.2832 65.6289C19.2832 67.1458 18.7949 68.3047 17.8184 69.1055C16.8353 69.9063 15.4095 70.3066 13.541 70.3066C11.679 70.3066 10.2565 69.9063 9.27344 69.1055C8.29037 68.3047 7.79883 67.1458 7.79883 65.6289ZM10.3184 48.3145C10.0189 48.6986 9.80078 49.0892 9.66406 49.4863C9.52735 49.8835 9.45899 50.3197 9.45899 50.7949C9.45899 51.9147 9.81055 52.7708 10.5137 53.3633C11.2168 53.9557 12.2324 54.252 13.5605 54.252L19 54.252L19 56.0586L8.0625 56.0586L8.0625 54.252L10.2012 54.252C9.42643 53.9525 8.83399 53.4935 8.42383 52.875C8.00716 52.25 7.79883 51.5111 7.79883 50.6582C7.79883 50.2155 7.85417 49.8021 7.96485 49.418C8.07552 49.0339 8.24805 48.666 8.48242 48.3145L10.3184 48.3145ZM12.6328 36.6055L13.5117 36.6055L13.5117 44.3887L13.5703 44.3887C15.0612 44.4408 16.1322 44.1576 16.7832 43.5391C17.4342 42.9141 17.7598 42.0352 17.7598 40.9023C17.7598 40.3294 17.6686 39.7305 17.4863 39.1055C17.304 38.4805 17.0273 37.8132 16.6563 37.1035L18.4434 37.1035C18.7233 37.7871 18.9316 38.4479 19.0684 39.0859C19.2116 39.7174 19.2832 40.3294 19.2832 40.9219C19.2832 42.6211 18.7754 43.9492 17.7598 44.9063C16.7376 45.8633 15.3314 46.3418 13.541 46.3418C11.7962 46.3418 10.403 45.873 9.36133 44.9355C8.31966 43.998 7.79883 42.748 7.79883 41.1855C7.79883 39.7923 8.27083 38.6953 9.21485 37.8945C10.1589 37.0872 11.2982 36.6576 12.6328 36.6055ZM12.1055 38.4023C11.3503 38.4805 10.6992 38.7572 10.1523 39.2324C9.59896 39.7012 9.32227 40.3783 9.32227 41.2637C9.32227 42.1296 9.60873 42.8424 10.1816 43.4023C10.7546 43.9622 11.3991 44.2682 12.1152 44.3203L12.1055 38.4023Z" fill="black"/>
                            <path d="M5.75006 7L17.2501 7L17.2501 18.5" stroke="white" stroke-width="2"/>
                            <path d="M17.0834 7.16658L6.08337 18.1666" stroke="white" stroke-width="2"/>
                            </svg>
                        </Link>
                    </div>
                </div>
                <div style={{paddingLeft: '4%', paddingBottom: '5%'}}>
                    <svg width="191" height="24" viewBox="0 0 191 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M41.8125 6.72656L40.1484 12.6953L43.4766 12.6953L41.8125 6.72656ZM40.8594 5.33594L42.7734 5.33594L46.3437 17L44.7109 17L43.8516 13.9609L39.7656 13.9609L38.9219 17L37.2891 17L40.8594 5.33594ZM53.8125 12.6328C53.8125 11.5182 53.6354 10.6771 53.2812 10.1094C52.9271 9.54167 52.4036 9.25781 51.7109 9.25781C51.013 9.25781 50.4844 9.54427 50.125 10.1172C49.7656 10.6849 49.5859 11.5234 49.5859 12.6328C49.5859 13.737 49.7656 14.5755 50.125 15.1484C50.4844 15.7214 51.013 16.0078 51.7109 16.0078C52.4036 16.0078 52.9271 15.724 53.2812 15.1563C53.6354 14.5885 53.8125 13.7474 53.8125 12.6328ZM49.5859 9.36719C49.8151 8.9401 50.1302 8.61198 50.5312 8.38281C50.9375 8.15365 51.4062 8.03906 51.9375 8.03906C52.9896 8.03906 53.8177 8.44531 54.4219 9.25781C55.026 10.0651 55.3281 11.1797 55.3281 12.6016C55.3281 14.0443 55.0234 15.1771 54.4141 16C53.8099 16.8177 52.9792 17.2266 51.9219 17.2266C51.401 17.2266 50.9401 17.1146 50.5391 16.8906C50.1432 16.6615 49.8255 16.3307 49.5859 15.8984L49.5859 17L48.1484 17L48.1484 4.84375L49.5859 4.84375L49.5859 9.36719ZM61.0937 9.25781C60.3646 9.25781 59.8125 9.54167 59.4375 10.1094C59.0625 10.6771 58.875 11.5182 58.875 12.6328C58.875 13.7422 59.0625 14.5833 59.4375 15.1563C59.8125 15.724 60.3646 16.0078 61.0937 16.0078C61.8281 16.0078 62.3828 15.724 62.7578 15.1563C63.1328 14.5833 63.3203 13.7422 63.3203 12.6328C63.3203 11.5182 63.1328 10.6771 62.7578 10.1094C62.3828 9.54167 61.8281 9.25781 61.0937 9.25781ZM61.0937 8.03906C62.3073 8.03906 63.2344 8.43229 63.875 9.21875C64.5208 10.0052 64.8437 11.1432 64.8437 12.6328C64.8437 14.1276 64.5234 15.2682 63.8828 16.0547C63.2422 16.8359 62.3125 17.2266 61.0937 17.2266C59.8802 17.2266 58.9531 16.8359 58.3125 16.0547C57.6719 15.2682 57.3516 14.1276 57.3516 12.6328C57.3516 11.1432 57.6719 10.0052 58.3125 9.21875C58.9531 8.43229 59.8802 8.03906 61.0937 8.03906ZM67.4453 13.6875L67.4453 8.26563L68.8828 8.26563L68.8828 13.6875C68.8828 14.474 69.0208 15.0521 69.2969 15.4219C69.5781 15.7917 70.0104 15.9766 70.5937 15.9766C71.2708 15.9766 71.7891 15.7396 72.1484 15.2656C72.5078 14.7865 72.6875 14.1016 72.6875 13.2109L72.6875 8.26563L74.1328 8.26563L74.1328 17L72.6875 17L72.6875 15.6875C72.4323 16.1927 72.0833 16.5755 71.6406 16.8359C71.2031 17.0964 70.6901 17.2266 70.1016 17.2266C69.2057 17.2266 68.5391 16.9349 68.1016 16.3516C67.6641 15.763 67.4453 14.875 67.4453 13.6875ZM80.3594 5.76563L80.3594 8.25L83.625 8.25L83.625 9.36719L80.3594 9.36719L80.3594 14.1172C80.3594 14.763 80.4818 15.2135 80.7266 15.4688C80.9714 15.724 81.3984 15.8516 82.0078 15.8516L83.625 15.8516L83.625 17L81.8672 17C80.7891 17 80.0286 16.7839 79.5859 16.3516C79.1432 15.9193 78.9219 15.1745 78.9219 14.1172L78.9219 9.36719L76.5859 9.36719L76.5859 8.25L78.9219 8.25L78.9219 5.76563L80.3594 5.76563ZM99.6406 5.76563L99.6406 8.25L102.906 8.25L102.906 9.36719L99.6406 9.36719L99.6406 14.1172C99.6406 14.763 99.763 15.2135 100.008 15.4688C100.253 15.724 100.68 15.8516 101.289 15.8516L102.906 15.8516L102.906 17L101.148 17C100.07 17 99.3099 16.7839 98.8672 16.3516C98.4245 15.9193 98.2031 15.1745 98.2031 14.1172L98.2031 9.36719L95.8672 9.36719L95.8672 8.25L98.2031 8.25L98.2031 5.76563L99.6406 5.76563ZM112.695 11.5781L112.695 17L111.25 17L111.25 11.5781C111.25 10.7917 111.112 10.2135 110.836 9.84375C110.56 9.47396 110.128 9.28907 109.539 9.28907C108.867 9.28907 108.349 9.52865 107.984 10.0078C107.625 10.4818 107.445 11.1641 107.445 12.0547L107.445 17L106.008 17L106.008 4.84375L107.445 4.84375L107.445 9.5625C107.701 9.0625 108.047 8.6849 108.484 8.42969C108.922 8.16927 109.44 8.03907 110.039 8.03907C110.93 8.03907 111.594 8.33334 112.031 8.92188C112.474 9.50521 112.695 10.3906 112.695 11.5781ZM122.875 11.9063L122.875 12.6094L116.648 12.6094L116.648 12.6563C116.607 13.849 116.833 14.7057 117.328 15.2266C117.828 15.7474 118.531 16.0078 119.437 16.0078C119.896 16.0078 120.375 15.9349 120.875 15.7891C121.375 15.6432 121.909 15.4219 122.477 15.125L122.477 16.5547C121.93 16.7787 121.401 16.9453 120.891 17.0547C120.385 17.1693 119.896 17.2266 119.422 17.2266C118.062 17.2266 117 16.8203 116.234 16.0078C115.469 15.1901 115.086 14.0651 115.086 12.6328C115.086 11.237 115.461 10.1224 116.211 9.28907C116.961 8.45573 117.961 8.03907 119.211 8.03907C120.326 8.03907 121.203 8.41667 121.844 9.17188C122.49 9.92709 122.833 10.8385 122.875 11.9063ZM121.437 11.4844C121.375 10.8802 121.154 10.3594 120.773 9.92188C120.398 9.47917 119.857 9.25782 119.148 9.25782C118.456 9.25782 117.885 9.48698 117.437 9.94532C116.99 10.4037 116.745 10.9193 116.703 11.4922L121.437 11.4844ZM141.312 5.73438L141.312 7.33594C140.833 7.02865 140.352 6.79688 139.867 6.64063C139.388 6.48438 138.904 6.40626 138.414 6.40626C137.669 6.40626 137.081 6.58073 136.648 6.92969C136.216 7.27344 136 7.73959 136 8.32813C136 8.84376 136.141 9.23698 136.422 9.50782C136.708 9.77865 137.24 10.0052 138.016 10.1875L138.844 10.375C139.937 10.6302 140.734 11.0313 141.234 11.5781C141.734 12.125 141.984 12.8698 141.984 13.8125C141.984 14.9219 141.641 15.7682 140.953 16.3516C140.266 16.9349 139.266 17.2266 137.953 17.2266C137.406 17.2266 136.857 17.1667 136.305 17.0469C135.753 16.9323 135.198 16.7578 134.641 16.5234L134.641 14.8438C135.24 15.224 135.805 15.5026 136.336 15.6797C136.872 15.8568 137.411 15.9453 137.953 15.9453C138.75 15.9453 139.37 15.7682 139.812 15.4141C140.255 15.0547 140.477 14.5547 140.477 13.9141C140.477 13.3307 140.323 12.8854 140.016 12.5781C139.714 12.2708 139.185 12.0339 138.43 11.8672L137.586 11.6719C136.503 11.4271 135.716 11.0573 135.227 10.5625C134.737 10.0677 134.492 9.40365 134.492 8.57032C134.492 7.52865 134.841 6.69532 135.539 6.07032C136.242 5.44011 137.174 5.12501 138.336 5.12501C138.784 5.12501 139.255 5.17709 139.75 5.28126C140.245 5.38021 140.766 5.53126 141.312 5.73438ZM147.844 5.76563L147.844 8.25001L151.109 8.25001L151.109 9.36719L147.844 9.36719L147.844 14.1172C147.844 14.763 147.966 15.2135 148.211 15.4688C148.456 15.724 148.883 15.8516 149.492 15.8516L151.109 15.8516L151.109 17L149.352 17C148.273 17 147.513 16.7839 147.07 16.3516C146.628 15.9193 146.406 15.1745 146.406 14.1172L146.406 9.36719L144.07 9.36719L144.07 8.25001L146.406 8.25001L146.406 5.76563L147.844 5.76563ZM154.211 13.6875L154.211 8.26563L155.648 8.26563L155.648 13.6875C155.648 14.474 155.786 15.0521 156.062 15.4219C156.344 15.7917 156.776 15.9766 157.359 15.9766C158.036 15.9766 158.555 15.7396 158.914 15.2656C159.273 14.7865 159.453 14.1016 159.453 13.2109L159.453 8.26563L160.898 8.26563L160.898 17L159.453 17L159.453 15.6875C159.198 16.1927 158.849 16.5755 158.406 16.8359C157.969 17.0964 157.456 17.2266 156.867 17.2266C155.971 17.2266 155.305 16.9349 154.867 16.3516C154.43 15.763 154.211 14.875 154.211 13.6875ZM169.031 9.36719L169.031 4.84376L170.469 4.84376L170.469 17L169.031 17L169.031 15.8984C168.792 16.3307 168.471 16.6615 168.07 16.8906C167.674 17.1146 167.216 17.2266 166.695 17.2266C165.638 17.2266 164.805 16.8177 164.195 16C163.591 15.1771 163.289 14.0443 163.289 12.6016C163.289 11.1797 163.594 10.0651 164.203 9.25782C164.812 8.44532 165.643 8.03907 166.695 8.03907C167.221 8.03907 167.685 8.15365 168.086 8.38282C168.487 8.60678 168.802 8.9349 169.031 9.36719ZM164.805 12.6328C164.805 13.7474 164.982 14.5885 165.336 15.1563C165.69 15.724 166.214 16.0078 166.906 16.0078C167.599 16.0078 168.125 15.7214 168.484 15.1484C168.849 14.5755 169.031 13.737 169.031 12.6328C169.031 11.5234 168.849 10.6849 168.484 10.1172C168.125 9.54428 167.599 9.25782 166.906 9.25782C166.214 9.25782 165.69 9.54167 165.336 10.1094C164.982 10.6771 164.805 11.5182 164.805 12.6328ZM174.437 8.28126L178.117 8.28126L178.117 15.8828L180.969 15.8828L180.969 17L173.828 17L173.828 15.8828L176.68 15.8828L176.68 9.39845L174.437 9.39845L174.437 8.28126ZM176.68 4.88282L178.117 4.88282L178.117 6.69532L176.68 6.69532L176.68 4.88282ZM186.422 9.25782C185.693 9.25782 185.141 9.54167 184.766 10.1094C184.391 10.6771 184.203 11.5182 184.203 12.6328C184.203 13.7422 184.391 14.5833 184.766 15.1563C185.141 15.724 185.693 16.0078 186.422 16.0078C187.156 16.0078 187.711 15.724 188.086 15.1563C188.461 14.5833 188.648 13.7422 188.648 12.6328C188.648 11.5182 188.461 10.6771 188.086 10.1094C187.711 9.54168 187.156 9.25782 186.422 9.25782ZM186.422 8.03907C187.635 8.03907 188.562 8.4323 189.203 9.21876C189.849 10.0052 190.172 11.1432 190.172 12.6328C190.172 14.1276 189.852 15.2682 189.211 16.0547C188.57 16.8359 187.641 17.2266 186.422 17.2266C185.208 17.2266 184.281 16.8359 183.641 16.0547C183 15.2682 182.68 14.1276 182.68 12.6328C182.68 11.1432 183 10.0052 183.641 9.21876C184.281 8.4323 185.208 8.03907 186.422 8.03907Z" fill="black"/>
                    <rect y="24" width="24" height="24" rx="12" transform="rotate(-90 0 24)" fill="black"/>
                    <path d="M11.75 3.5V20" stroke="white" stroke-width="2"/>
                    <path d="M20 11.75L3.5 11.75" stroke="white" stroke-width="2"/>
                    </svg>
                </div>
            </div>
        );
    } else {
        if (error) {
            return (
                <div style={{margin: '7rem'}}>{error}</div>
            )
        } else {
            <h2>Laoding...</h2>
        }
    }
}

export default CompanyPage;